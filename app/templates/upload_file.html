{% extends "templates/public_template.html" %}

{% block title %}Upload{% endblock %}

{% block main %}

<div class="container">
  <div class="row">
    <div class="col">

      <h1>Upload a file</h1>
      <hr>

      <form action="/upload-file" method="POST" enctype="multipart/form-data">

        <div class="form-group">
          <label>Select file (.xlsx, .xls)</label>
          <div class="custom-file">
            <input type="file" class="custom-file-input" name="file" id="file">
            <label class="custom-file-label" for="file">Select file...</label>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>

      </form>
      {% with messages = get_flashed_messages() %}
      {% if messages %}
      {% for msg in messages %}
      <p>{{msg}}</p>
      {% endfor %}
      {%endif%}
      {%endwith%}
    </div>
  </div>
</div>
<script type="text/javascript">

  $('.custom-file input').change(function (e) {
      if (e.target.files.length) {
          $(this).next('.custom-file-label').html(e.target.files[0].name);
      }
  });

</script>
{% endblock %}